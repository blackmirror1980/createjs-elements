{"version":3,"file":"evolve.browser.js","sources":["../src/Core/Polyfills.js","../src/Evolve.js","../src/index.js"],"sourcesContent":["window.requestAnimationFrame = window.requestAnimationFrame\n  || window.webkitRequestAnimationFrame\n  || window.mozRequestAnimationFrame\n  || window.oRequestAnimationFrame\n  || window.msRequestAnimationFrame\n  || function (callback) {\n    const timeout = window.setTimeout(() => {\n      callback();\n      window.clearTimeout(timeout);\n    }, 1000 / 60);\n  };\n","import Core from './Core/index';\nimport { AssetsManager } from './Managers/index';\n\n/**\n * constructs Evolve class\n * @class Evolve\n * @classdesc Evolve description\n * @public\n */\nexport default class Evolve {\n  constructor(wrapperSelector = '', canvasSelector = '', assets = []) {\n    this.init(wrapperSelector, canvasSelector);\n  }\n\n  initWrapper(wrapperSelector = '') {\n    this._wrapper = document.querySelector(wrapperSelector);\n    this._wrapper.style.width = '100%';\n    this._wrapper.style.height = '100%';\n  }\n\n  updateCanvasSizing() {\n    this._canvas.setAttribute('width', window.innerWidth);\n    this._canvas.setAttribute('height', window.innerHeight);\n    this._canvas.defaultWidth = this._canvas.width;\n    this._canvas.defaultHeight = this._canvas.height;\n  }\n\n  initCanvas(canvasSelector = '') {\n    this._canvas = document.querySelector(canvasSelector);\n    this.updateCanvasSizing();\n  }\n\n  initContext() {\n    this._context = this._canvas.getContext('2d');\n\n    if (!this._context) {\n      throw new Error('Your browser doesn\\'t supports HTML5 Canvas ExtensionScriptApis, please update yourself!!!');\n    }\n  }\n\n  initEnvironment() {\n    this._pause = true;\n  }\n\n  initDOMEvents() {\n    window.addEventListener('click', (e) => {\n      this.pause = !this.pause;\n    }, true);\n\n    window.addEventListener('load', (e) => {\n      this.start();\n      console.warn('EvolveJS Engine started');\n    }, true);\n\n    window.addEventListener('resize', (e) => {\n      this.updateCanvasSizing();\n    }, true);\n  }\n\n  initEvents() {\n    this.initDOMEvents();\n  }\n\n  /**\n   * initialize all\n   * @memberOf Evolve\n   * @method init\n   * @instance\n   */\n  init(wrapperSelector = '', canvasSelector = '') {\n    this.initWrapper(wrapperSelector);\n    this.initCanvas(canvasSelector);\n    this.initContext();\n\n    this.initEnvironment();\n\n    this.initEvents();\n\n    console.warn('EvolveJS Engine initialized');\n  }\n\n  loop() {\n    // updates all the objects\n    this.update();\n\n    // draws actual scene on the screen\n    this.draw();\n\n    window.requestAnimationFrame(() => {\n      // recursive call to requestAnimationFrame that ignites the loop\n      this.loop();\n    });\n  }\n\n  start() {\n    this.pause = false;\n\n    this.loop();\n  }\n\n  update() {\n    if (!this._pause) {\n      console.log('update called');\n    }\n  }\n\n  draw() {\n    if (!this._pause) {\n      console.log('draw called');\n    }\n  }\n\n  /**\n   * @returns {any}\n   */\n  get wrapper() {\n    return this._wrapper;\n  }\n\n  /**\n   * @returns {any}\n   */\n  get canvas() {\n    return this._canvas;\n  }\n\n  /**\n   * @returns {any}\n   */\n  get context() {\n    return this._context;\n  }\n\n  get pause() {\n    return this._pause;\n  }\n\n  set pause(pause = false) {\n    this._pause = pause;\n  }\n}\n","/*global Window*/\nimport Evolve from './Evolve';\n\nif(typeof module !== 'undefined') {\n  module.exports = Evolve;\n}\n"],"names":["window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","timeout","setTimeout","clearTimeout","Evolve","wrapperSelector","canvasSelector","init","_wrapper","document","querySelector","style","width","height","_canvas","setAttribute","innerWidth","innerHeight","defaultWidth","defaultHeight","updateCanvasSizing","_context","getContext","Error","_pause","addEventListener","e","pause","start","console","warn","initDOMEvents","initWrapper","initCanvas","initContext","initEnvironment","initEvents","update","draw","loop","log","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;EAAAA,MAAM,CAACC,qBAAP,GAA+BD,MAAM,CAACC,qBAAP,IAC1BD,MAAM,CAACE,2BADmB,IAE1BF,MAAM,CAACG,wBAFmB,IAG1BH,MAAM,CAACI,sBAHmB,IAI1BJ,MAAM,CAACK,uBAJmB,IAK1B,UAAUC,QAAV,EAAoB;EACrB,MAAMC,OAAO,GAAGP,MAAM,CAACQ,UAAP,CAAkB,YAAM;EACtCF,IAAAA,QAAQ;EACRN,IAAAA,MAAM,CAACS,YAAP,CAAoBF,OAApB;EACD,GAHe,EAGb,OAAO,EAHM,CAAhB;EAID,CAVH;;ECGA;;;;;;;MAMqBG;;;EACnB,oBAAoE;EAAA,QAAxDC,eAAwD,uEAAtC,EAAsC;EAAA,QAAlCC,cAAkC,uEAAjB,EAAiB;AAAA;EAAA;;EAClE,SAAKC,IAAL,CAAUF,eAAV,EAA2BC,cAA3B;EACD;;;;oCAEiC;EAAA,UAAtBD,eAAsB,uEAAJ,EAAI;EAChC,WAAKG,QAAL,GAAgBC,QAAQ,CAACC,aAAT,CAAuBL,eAAvB,CAAhB;EACA,WAAKG,QAAL,CAAcG,KAAd,CAAoBC,KAApB,GAA4B,MAA5B;EACA,WAAKJ,QAAL,CAAcG,KAAd,CAAoBE,MAApB,GAA6B,MAA7B;EACD;;;2CAEoB;EACnB,WAAKC,OAAL,CAAaC,YAAb,CAA0B,OAA1B,EAAmCrB,MAAM,CAACsB,UAA1C;;EACA,WAAKF,OAAL,CAAaC,YAAb,CAA0B,QAA1B,EAAoCrB,MAAM,CAACuB,WAA3C;;EACA,WAAKH,OAAL,CAAaI,YAAb,GAA4B,KAAKJ,OAAL,CAAaF,KAAzC;EACA,WAAKE,OAAL,CAAaK,aAAb,GAA6B,KAAKL,OAAL,CAAaD,MAA1C;EACD;;;mCAE+B;EAAA,UAArBP,cAAqB,uEAAJ,EAAI;EAC9B,WAAKQ,OAAL,GAAeL,QAAQ,CAACC,aAAT,CAAuBJ,cAAvB,CAAf;EACA,WAAKc,kBAAL;EACD;;;oCAEa;EACZ,WAAKC,QAAL,GAAgB,KAAKP,OAAL,CAAaQ,UAAb,CAAwB,IAAxB,CAAhB;;EAEA,UAAI,CAAC,KAAKD,QAAV,EAAoB;EAClB,cAAM,IAAIE,KAAJ,CAAU,4FAAV,CAAN;EACD;EACF;;;wCAEiB;EAChB,WAAKC,MAAL,GAAc,IAAd;EACD;;;sCAEe;EAAA;;EACd9B,MAAAA,MAAM,CAAC+B,gBAAP,CAAwB,OAAxB,EAAiC,UAACC,CAAD,EAAO;EACtC,QAAA,KAAI,CAACC,KAAL,GAAa,CAAC,KAAI,CAACA,KAAnB;EACD,OAFD,EAEG,IAFH;EAIAjC,MAAAA,MAAM,CAAC+B,gBAAP,CAAwB,MAAxB,EAAgC,UAACC,CAAD,EAAO;EACrC,QAAA,KAAI,CAACE,KAAL;;EACAC,QAAAA,OAAO,CAACC,IAAR,CAAa,yBAAb;EACD,OAHD,EAGG,IAHH;EAKApC,MAAAA,MAAM,CAAC+B,gBAAP,CAAwB,QAAxB,EAAkC,UAACC,CAAD,EAAO;EACvC,QAAA,KAAI,CAACN,kBAAL;EACD,OAFD,EAEG,IAFH;EAGD;;;mCAEY;EACX,WAAKW,aAAL;EACD;EAED;;;;;;;;;6BAMgD;EAAA,UAA3C1B,eAA2C,uEAAzB,EAAyB;EAAA,UAArBC,cAAqB,uEAAJ,EAAI;EAC9C,WAAK0B,WAAL,CAAiB3B,eAAjB;EACA,WAAK4B,UAAL,CAAgB3B,cAAhB;EACA,WAAK4B,WAAL;EAEA,WAAKC,eAAL;EAEA,WAAKC,UAAL;EAEAP,MAAAA,OAAO,CAACC,IAAR,CAAa,6BAAb;EACD;;;6BAEM;EAAA;;EACL;EACA,WAAKO,MAAL,GAFK;;EAKL,WAAKC,IAAL;EAEA5C,MAAAA,MAAM,CAACC,qBAAP,CAA6B,YAAM;EACjC;EACA,QAAA,MAAI,CAAC4C,IAAL;EACD,OAHD;EAID;;;8BAEO;EACN,WAAKZ,KAAL,GAAa,KAAb;EAEA,WAAKY,IAAL;EACD;;;+BAEQ;EACP,UAAI,CAAC,KAAKf,MAAV,EAAkB;EAChBK,QAAAA,OAAO,CAACW,GAAR,CAAY,eAAZ;EACD;EACF;;;6BAEM;EACL,UAAI,CAAC,KAAKhB,MAAV,EAAkB;EAChBK,QAAAA,OAAO,CAACW,GAAR,CAAY,aAAZ;EACD;EACF;EAED;;;;;;0BAGc;EACZ,aAAO,KAAKhC,QAAZ;EACD;EAED;;;;;;0BAGa;EACX,aAAO,KAAKM,OAAZ;EACD;EAED;;;;;;0BAGc;EACZ,aAAO,KAAKO,QAAZ;EACD;;;0BAEW;EACV,aAAO,KAAKG,MAAZ;EACD;0BAEwB;EAAA,UAAfG,KAAe,uEAAP,KAAO;EACvB,WAAKH,MAAL,GAAcG,KAAd;EACD;;;;;;EC3IH;AACA;EAEA,IAAG,OAAOc,MAAP,KAAkB,WAArB,EAAkC;EAChCA,EAAAA,MAAM,CAACC,OAAP,GAAiBtC,MAAjB;EACD;;;;"}